document.write('<link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-0c70d27905a3824e6a9c3b9fddca6be1.css">')
document.write('<div id=\"gist104591012\" class=\"gist\">\n    <div class=\"gist-file\" translate=\"no\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-heroes-rs\" class=\"file my-2\">\n    \n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-rust  \">\n\n      \n<div class=\"js-check-bidi js-blob-code-container blob-code-content\">\n\n  <template class=\"js-file-alert-template\">\n  <div data-view-component=\"true\" class=\"flash flash-warn flash-full d-flex flex-items-center\">\n  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"><\/path>\n<\/svg>\n  \n    <span>\n      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\n      <a href=\"https://github.co/hiddenchars\" target=\"_blank\">Learn more about bidirectional Unicode characters<\/a>\n    <\/span>\n\n\n  <div data-view-component=\"true\" class=\"flash-action\">        <a href=\"{{ revealButtonHref }}\" data-view-component=\"true\" class=\"btn-sm btn\">  Show hidden characters\n<\/a>\n<\/div>\n<\/div><\/template>\n<template class=\"js-line-alert-template\">\n  <span aria-label=\"This line has hidden Unicode characters\" data-view-component=\"true\" class=\"line-alert tooltipped tooltipped-e\">\n    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"><\/path>\n<\/svg>\n<\/span><\/template>\n\n  <table class=\"highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file\" data-tab-size=\"8\" data-paste-markdown-skip data-tagsearch-lang=\"Rust\" data-tagsearch-path=\"heroes.rs\">\n        <tr>\n          <td id=\"file-heroes-rs-L1\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"1\"><\/td>\n          <td id=\"file-heroes-rs-LC1\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\">/* To be able to return Templates */<\/span><\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L2\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"2\"><\/td>\n          <td id=\"file-heroes-rs-LC2\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">use<\/span> rocket_contrib<span class=\"pl-k\">::<\/span>templates<span class=\"pl-k\">::<\/span>Template;<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L3\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"3\"><\/td>\n          <td id=\"file-heroes-rs-LC3\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">use<\/span> std<span class=\"pl-k\">::<\/span>collections<span class=\"pl-k\">::<\/span>HashMap;<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L4\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"4\"><\/td>\n          <td id=\"file-heroes-rs-LC4\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L5\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"5\"><\/td>\n          <td id=\"file-heroes-rs-LC5\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\">/* Diesel query builder */<\/span><\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L6\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"6\"><\/td>\n          <td id=\"file-heroes-rs-LC6\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">use<\/span> diesel<span class=\"pl-k\">::<\/span>prelude<span class=\"pl-k\">::<\/span><span class=\"pl-k\">*<\/span>;<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L7\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"7\"><\/td>\n          <td id=\"file-heroes-rs-LC7\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L8\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"8\"><\/td>\n          <td id=\"file-heroes-rs-LC8\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\">/* Database macros */<\/span><\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L9\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"9\"><\/td>\n          <td id=\"file-heroes-rs-LC9\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">use<\/span> <span class=\"pl-k\">crate<\/span><span class=\"pl-k\">::<\/span>schema<span class=\"pl-k\">::<\/span><span class=\"pl-k\">*<\/span>;<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L10\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"10\"><\/td>\n          <td id=\"file-heroes-rs-LC10\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L11\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"11\"><\/td>\n          <td id=\"file-heroes-rs-LC11\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\">/* Database data structs (Hero, NewHero) */<\/span><\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L12\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"12\"><\/td>\n          <td id=\"file-heroes-rs-LC12\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">use<\/span> <span class=\"pl-k\">crate<\/span><span class=\"pl-k\">::<\/span>models<span class=\"pl-k\">::<\/span><span class=\"pl-k\">*<\/span>;<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L13\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"13\"><\/td>\n          <td id=\"file-heroes-rs-LC13\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L14\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"14\"><\/td>\n          <td id=\"file-heroes-rs-LC14\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\">/* To be able to parse raw forms */<\/span><\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L15\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"15\"><\/td>\n          <td id=\"file-heroes-rs-LC15\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">use<\/span> rocket<span class=\"pl-k\">::<\/span>http<span class=\"pl-k\">::<\/span>ContentType;<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L16\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"16\"><\/td>\n          <td id=\"file-heroes-rs-LC16\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">use<\/span> rocket<span class=\"pl-k\">::<\/span>Data;<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L17\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"17\"><\/td>\n          <td id=\"file-heroes-rs-LC17\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">use<\/span> rocket_multipart_form_data<span class=\"pl-k\">::<\/span>{<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L18\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"18\"><\/td>\n          <td id=\"file-heroes-rs-LC18\" class=\"blob-code blob-code-inner js-file-line\">    MultipartFormData, MultipartFormDataField, MultipartFormDataOptions,<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L19\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"19\"><\/td>\n          <td id=\"file-heroes-rs-LC19\" class=\"blob-code blob-code-inner js-file-line\">};<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L20\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"20\"><\/td>\n          <td id=\"file-heroes-rs-LC20\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L21\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"21\"><\/td>\n          <td id=\"file-heroes-rs-LC21\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\">/* Flash message and redirect */<\/span><\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L22\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"22\"><\/td>\n          <td id=\"file-heroes-rs-LC22\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">use<\/span> rocket<span class=\"pl-k\">::<\/span>request<span class=\"pl-k\">::<\/span>FlashMessage;<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L23\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"23\"><\/td>\n          <td id=\"file-heroes-rs-LC23\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">use<\/span> rocket<span class=\"pl-k\">::<\/span>response<span class=\"pl-k\">::<\/span>{Flash, Redirect};<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L24\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"24\"><\/td>\n          <td id=\"file-heroes-rs-LC24\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L25\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"25\"><\/td>\n          <td id=\"file-heroes-rs-LC25\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\">/* List our inserted heroes */<\/span><\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L26\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"26\"><\/td>\n          <td id=\"file-heroes-rs-LC26\" class=\"blob-code blob-code-inner js-file-line\">#[get(<span class=\"pl-s\">&quot;/&quot;<\/span>)]<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L27\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"27\"><\/td>\n          <td id=\"file-heroes-rs-LC27\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">pub<\/span> <span class=\"pl-k\">fn<\/span> <span class=\"pl-en\">list<\/span>(flash: <span class=\"pl-k\">Option<\/span>&lt;FlashMessage&gt;) -&gt; Template {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L28\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"28\"><\/td>\n          <td id=\"file-heroes-rs-LC28\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-k\">let<\/span> <span class=\"pl-k\">mut<\/span> context <span class=\"pl-k\">=<\/span> HashMap<span class=\"pl-k\">::<\/span><span class=\"pl-en\">new<\/span>();<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L29\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"29\"><\/td>\n          <td id=\"file-heroes-rs-LC29\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L30\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"30\"><\/td>\n          <td id=\"file-heroes-rs-LC30\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-c\">/* Get all our heroes from database */<\/span><\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L31\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"31\"><\/td>\n          <td id=\"file-heroes-rs-LC31\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-k\">let<\/span> heroes: <span class=\"pl-k\">Vec<\/span><span class=\"pl-k\">&lt;<\/span>Hero<span class=\"pl-k\">&gt;<\/span> <span class=\"pl-k\">=<\/span> heroes<span class=\"pl-k\">::<\/span>table<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L32\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"32\"><\/td>\n          <td id=\"file-heroes-rs-LC32\" class=\"blob-code blob-code-inner js-file-line\">        .<span class=\"pl-en\">select<\/span>(heroes<span class=\"pl-k\">::<\/span>all_columns)<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L33\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"33\"><\/td>\n          <td id=\"file-heroes-rs-LC33\" class=\"blob-code blob-code-inner js-file-line\">        .<span class=\"pl-en\">load<\/span><span class=\"pl-k\">::<\/span>&lt;Hero&gt;(<span class=\"pl-k\">&amp;<\/span><span class=\"pl-k\">crate<\/span><span class=\"pl-k\">::<\/span><span class=\"pl-en\">establish_connection<\/span>())<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L34\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"34\"><\/td>\n          <td id=\"file-heroes-rs-LC34\" class=\"blob-code blob-code-inner js-file-line\">        .<span class=\"pl-en\">expect<\/span>(<span class=\"pl-s\">&quot;Whoops, like this went bananas!&quot;<\/span>);<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L35\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"35\"><\/td>\n          <td id=\"file-heroes-rs-LC35\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L36\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"36\"><\/td>\n          <td id=\"file-heroes-rs-LC36\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-c\">/* Insert on the template rendering<\/span><\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L37\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"37\"><\/td>\n          <td id=\"file-heroes-rs-LC37\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\">    context our new heroes vec */<\/span><\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L38\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"38\"><\/td>\n          <td id=\"file-heroes-rs-LC38\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-k\">if<\/span> <span class=\"pl-k\">let<\/span> <span class=\"pl-c1\">Some<\/span>(<span class=\"pl-k\">ref<\/span> msg) <span class=\"pl-k\">=<\/span> flash {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L39\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"39\"><\/td>\n          <td id=\"file-heroes-rs-LC39\" class=\"blob-code blob-code-inner js-file-line\">        context.<span class=\"pl-en\">insert<\/span>(<span class=\"pl-s\">&quot;data&quot;<\/span>, (heroes, msg.<span class=\"pl-en\">msg<\/span>()));<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L40\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"40\"><\/td>\n          <td id=\"file-heroes-rs-LC40\" class=\"blob-code blob-code-inner js-file-line\">    } <span class=\"pl-k\">else<\/span> {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L41\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"41\"><\/td>\n          <td id=\"file-heroes-rs-LC41\" class=\"blob-code blob-code-inner js-file-line\">        context.<span class=\"pl-en\">insert<\/span>(<span class=\"pl-s\">&quot;data&quot;<\/span>, (heroes, <span class=\"pl-s\">&quot;Listing heroes...&quot;<\/span>));<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L42\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"42\"><\/td>\n          <td id=\"file-heroes-rs-LC42\" class=\"blob-code blob-code-inner js-file-line\">    }<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L43\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"43\"><\/td>\n          <td id=\"file-heroes-rs-LC43\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L44\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"44\"><\/td>\n          <td id=\"file-heroes-rs-LC44\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-c\">/* Return the template */<\/span><\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L45\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"45\"><\/td>\n          <td id=\"file-heroes-rs-LC45\" class=\"blob-code blob-code-inner js-file-line\">    Template<span class=\"pl-k\">::<\/span><span class=\"pl-en\">render<\/span>(<span class=\"pl-s\">&quot;list&quot;<\/span>, <span class=\"pl-k\">&amp;<\/span>context)<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L46\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"46\"><\/td>\n          <td id=\"file-heroes-rs-LC46\" class=\"blob-code blob-code-inner js-file-line\">}<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L47\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"47\"><\/td>\n          <td id=\"file-heroes-rs-LC47\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L48\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"48\"><\/td>\n          <td id=\"file-heroes-rs-LC48\" class=\"blob-code blob-code-inner js-file-line\">#[get(<span class=\"pl-s\">&quot;/new&quot;<\/span>)]<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L49\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"49\"><\/td>\n          <td id=\"file-heroes-rs-LC49\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">pub<\/span> <span class=\"pl-k\">fn<\/span> <span class=\"pl-en\">new<\/span>(flash: <span class=\"pl-k\">Option<\/span>&lt;FlashMessage&gt;) -&gt; Template {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L50\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"50\"><\/td>\n          <td id=\"file-heroes-rs-LC50\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-k\">let<\/span> <span class=\"pl-k\">mut<\/span> context <span class=\"pl-k\">=<\/span> HashMap<span class=\"pl-k\">::<\/span><span class=\"pl-en\">new<\/span>();<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L51\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"51\"><\/td>\n          <td id=\"file-heroes-rs-LC51\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-k\">if<\/span> <span class=\"pl-k\">let<\/span> <span class=\"pl-c1\">Some<\/span>(<span class=\"pl-k\">ref<\/span> msg) <span class=\"pl-k\">=<\/span> flash {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L52\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"52\"><\/td>\n          <td id=\"file-heroes-rs-LC52\" class=\"blob-code blob-code-inner js-file-line\">        context.<span class=\"pl-en\">insert<\/span>(<span class=\"pl-s\">&quot;flash&quot;<\/span>, msg.<span class=\"pl-en\">msg<\/span>());<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L53\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"53\"><\/td>\n          <td id=\"file-heroes-rs-LC53\" class=\"blob-code blob-code-inner js-file-line\">    }<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L54\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"54\"><\/td>\n          <td id=\"file-heroes-rs-LC54\" class=\"blob-code blob-code-inner js-file-line\">    Template<span class=\"pl-k\">::<\/span><span class=\"pl-en\">render<\/span>(<span class=\"pl-s\">&quot;new&quot;<\/span>, context)<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L55\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"55\"><\/td>\n          <td id=\"file-heroes-rs-LC55\" class=\"blob-code blob-code-inner js-file-line\">}<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L56\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"56\"><\/td>\n          <td id=\"file-heroes-rs-LC56\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L57\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"57\"><\/td>\n          <td id=\"file-heroes-rs-LC57\" class=\"blob-code blob-code-inner js-file-line\">#[post(<span class=\"pl-s\">&quot;/insert&quot;<\/span>, data = <span class=\"pl-s\">&quot;&lt;hero_data&gt;&quot;<\/span>)]<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L58\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"58\"><\/td>\n          <td id=\"file-heroes-rs-LC58\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">pub<\/span> <span class=\"pl-k\">fn<\/span> <span class=\"pl-en\">insert<\/span>(content_type: <span class=\"pl-k\">&amp;<\/span>ContentType, hero_data: Data) -&gt; Flash&lt;Redirect&gt; {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L59\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"59\"><\/td>\n          <td id=\"file-heroes-rs-LC59\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-c\">/* File system */<\/span><\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L60\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"60\"><\/td>\n          <td id=\"file-heroes-rs-LC60\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-k\">use<\/span> std<span class=\"pl-k\">::<\/span>fs;<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L61\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"61\"><\/td>\n          <td id=\"file-heroes-rs-LC61\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L62\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"62\"><\/td>\n          <td id=\"file-heroes-rs-LC62\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-c\">/* First we declare what we will be accepting on this form */<\/span><\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L63\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"63\"><\/td>\n          <td id=\"file-heroes-rs-LC63\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-k\">let<\/span> <span class=\"pl-k\">mut<\/span> options <span class=\"pl-k\">=<\/span> MultipartFormDataOptions<span class=\"pl-k\">::<\/span><span class=\"pl-en\">new<\/span>();<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L64\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"64\"><\/td>\n          <td id=\"file-heroes-rs-LC64\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L65\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"65\"><\/td>\n          <td id=\"file-heroes-rs-LC65\" class=\"blob-code blob-code-inner js-file-line\">    options.allowed_fields <span class=\"pl-k\">=<\/span> <span class=\"pl-c1\">vec!<\/span>[<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L66\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"66\"><\/td>\n          <td id=\"file-heroes-rs-LC66\" class=\"blob-code blob-code-inner js-file-line\">        MultipartFormDataField<span class=\"pl-k\">::<\/span><span class=\"pl-en\">file<\/span>(<span class=\"pl-s\">&quot;spotted_photo&quot;<\/span>),<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L67\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"67\"><\/td>\n          <td id=\"file-heroes-rs-LC67\" class=\"blob-code blob-code-inner js-file-line\">        MultipartFormDataField<span class=\"pl-k\">::<\/span><span class=\"pl-en\">text<\/span>(<span class=\"pl-s\">&quot;fantasy_name&quot;<\/span>),<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L68\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"68\"><\/td>\n          <td id=\"file-heroes-rs-LC68\" class=\"blob-code blob-code-inner js-file-line\">        MultipartFormDataField<span class=\"pl-k\">::<\/span><span class=\"pl-en\">text<\/span>(<span class=\"pl-s\">&quot;real_name&quot;<\/span>),<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L69\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"69\"><\/td>\n          <td id=\"file-heroes-rs-LC69\" class=\"blob-code blob-code-inner js-file-line\">        MultipartFormDataField<span class=\"pl-k\">::<\/span><span class=\"pl-en\">text<\/span>(<span class=\"pl-s\">&quot;strength_level&quot;<\/span>),<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L70\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"70\"><\/td>\n          <td id=\"file-heroes-rs-LC70\" class=\"blob-code blob-code-inner js-file-line\">    ];<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L71\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"71\"><\/td>\n          <td id=\"file-heroes-rs-LC71\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L72\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"72\"><\/td>\n          <td id=\"file-heroes-rs-LC72\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-c\">/* If stuff matches, do stuff */<\/span><\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L73\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"73\"><\/td>\n          <td id=\"file-heroes-rs-LC73\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-k\">let<\/span> multipart_form_data <span class=\"pl-k\">=<\/span> MultipartFormData<span class=\"pl-k\">::<\/span><span class=\"pl-en\">parse<\/span>(content_type, hero_data, options);<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L74\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"74\"><\/td>\n          <td id=\"file-heroes-rs-LC74\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L75\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"75\"><\/td>\n          <td id=\"file-heroes-rs-LC75\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-k\">match<\/span> multipart_form_data {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L76\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"76\"><\/td>\n          <td id=\"file-heroes-rs-LC76\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-c1\">Ok<\/span>(form) <span class=\"pl-k\">=&gt;<\/span> {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L77\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"77\"><\/td>\n          <td id=\"file-heroes-rs-LC77\" class=\"blob-code blob-code-inner js-file-line\">            <span class=\"pl-c\">/* If everything is ok, we will move the image and the insert into our datatabase */<\/span><\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L78\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"78\"><\/td>\n          <td id=\"file-heroes-rs-LC78\" class=\"blob-code blob-code-inner js-file-line\">            <span class=\"pl-k\">let<\/span> hero_img <span class=\"pl-k\">=<\/span> <span class=\"pl-k\">match<\/span> form.files.<span class=\"pl-en\">get<\/span>(<span class=\"pl-s\">&quot;spotted_photo&quot;<\/span>) {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L79\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"79\"><\/td>\n          <td id=\"file-heroes-rs-LC79\" class=\"blob-code blob-code-inner js-file-line\">                <span class=\"pl-c1\">Some<\/span>(img) <span class=\"pl-k\">=&gt;<\/span> {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L80\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"80\"><\/td>\n          <td id=\"file-heroes-rs-LC80\" class=\"blob-code blob-code-inner js-file-line\">                    <span class=\"pl-k\">let<\/span> file_field <span class=\"pl-k\">=<\/span> <span class=\"pl-k\">&amp;<\/span>img[<span class=\"pl-c1\">0<\/span>];<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L81\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"81\"><\/td>\n          <td id=\"file-heroes-rs-LC81\" class=\"blob-code blob-code-inner js-file-line\">                    <span class=\"pl-k\">let<\/span> _content_type <span class=\"pl-k\">=<\/span> <span class=\"pl-k\">&amp;<\/span>file_field.content_type;<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L82\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"82\"><\/td>\n          <td id=\"file-heroes-rs-LC82\" class=\"blob-code blob-code-inner js-file-line\">                    <span class=\"pl-k\">let<\/span> _file_name <span class=\"pl-k\">=<\/span> <span class=\"pl-k\">&amp;<\/span>file_field.file_name;<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L83\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"83\"><\/td>\n          <td id=\"file-heroes-rs-LC83\" class=\"blob-code blob-code-inner js-file-line\">                    <span class=\"pl-k\">let<\/span> _path <span class=\"pl-k\">=<\/span> <span class=\"pl-k\">&amp;<\/span>file_field.path;<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L84\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"84\"><\/td>\n          <td id=\"file-heroes-rs-LC84\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L85\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"85\"><\/td>\n          <td id=\"file-heroes-rs-LC85\" class=\"blob-code blob-code-inner js-file-line\">                    <span class=\"pl-c\">/* Lets split name to get format */<\/span><\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L86\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"86\"><\/td>\n          <td id=\"file-heroes-rs-LC86\" class=\"blob-code blob-code-inner js-file-line\">                    <span class=\"pl-k\">let<\/span> format: <span class=\"pl-k\">Vec<\/span><span class=\"pl-k\">&lt;<\/span><span class=\"pl-k\">&amp;<\/span><span class=\"pl-k\">str<\/span><span class=\"pl-k\">&gt;<\/span> <span class=\"pl-k\">=<\/span> _file_name.<span class=\"pl-en\">as_ref<\/span>().<span class=\"pl-en\">unwrap<\/span>().<span class=\"pl-en\">split<\/span>(<span class=\"pl-s\">&#39;.&#39;<\/span>).<span class=\"pl-en\">collect<\/span>(); <span class=\"pl-c\">/* Reparsing the fileformat */<\/span><\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L87\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"87\"><\/td>\n          <td id=\"file-heroes-rs-LC87\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L88\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"88\"><\/td>\n          <td id=\"file-heroes-rs-LC88\" class=\"blob-code blob-code-inner js-file-line\">                    <span class=\"pl-c\">/* Path parsing */<\/span><\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L89\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"89\"><\/td>\n          <td id=\"file-heroes-rs-LC89\" class=\"blob-code blob-code-inner js-file-line\">                    <span class=\"pl-k\">let<\/span> absolute_path: <span class=\"pl-k\">String<\/span> <span class=\"pl-k\">=<\/span> <span class=\"pl-c1\">format!<\/span>(<span class=\"pl-s\">&quot;imgs/{}&quot;<\/span>, _file_name.<span class=\"pl-en\">clone<\/span>().<span class=\"pl-en\">unwrap<\/span>());<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L90\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"90\"><\/td>\n          <td id=\"file-heroes-rs-LC90\" class=\"blob-code blob-code-inner js-file-line\">                    fs<span class=\"pl-k\">::<\/span><span class=\"pl-en\">copy<\/span>(_path, <span class=\"pl-k\">&amp;<\/span>absolute_path).<span class=\"pl-en\">unwrap<\/span>();<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L91\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"91\"><\/td>\n          <td id=\"file-heroes-rs-LC91\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L92\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"92\"><\/td>\n          <td id=\"file-heroes-rs-LC92\" class=\"blob-code blob-code-inner js-file-line\">                    <span class=\"pl-c1\">Some<\/span>(<span class=\"pl-c1\">format!<\/span>(<span class=\"pl-s\">&quot;imgs/{}&quot;<\/span>, _file_name.<span class=\"pl-en\">clone<\/span>().<span class=\"pl-en\">unwrap<\/span>()))<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L93\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"93\"><\/td>\n          <td id=\"file-heroes-rs-LC93\" class=\"blob-code blob-code-inner js-file-line\">                }<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L94\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"94\"><\/td>\n          <td id=\"file-heroes-rs-LC94\" class=\"blob-code blob-code-inner js-file-line\">                <span class=\"pl-c1\">None<\/span> <span class=\"pl-k\">=&gt;<\/span> <span class=\"pl-c1\">None<\/span>,<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L95\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"95\"><\/td>\n          <td id=\"file-heroes-rs-LC95\" class=\"blob-code blob-code-inner js-file-line\">            };<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L96\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"96\"><\/td>\n          <td id=\"file-heroes-rs-LC96\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L97\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"97\"><\/td>\n          <td id=\"file-heroes-rs-LC97\" class=\"blob-code blob-code-inner js-file-line\">            <span class=\"pl-c\">/* Insert our form data inside our database */<\/span><\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L98\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"98\"><\/td>\n          <td id=\"file-heroes-rs-LC98\" class=\"blob-code blob-code-inner js-file-line\">            <span class=\"pl-k\">let<\/span> insert <span class=\"pl-k\">=<\/span> diesel<span class=\"pl-k\">::<\/span><span class=\"pl-en\">insert_into<\/span>(heroes<span class=\"pl-k\">::<\/span>table)<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L99\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"99\"><\/td>\n          <td id=\"file-heroes-rs-LC99\" class=\"blob-code blob-code-inner js-file-line\">                .<span class=\"pl-en\">values<\/span>(NewHero {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L100\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"100\"><\/td>\n          <td id=\"file-heroes-rs-LC100\" class=\"blob-code blob-code-inner js-file-line\">                    fantasy_name: <span class=\"pl-k\">match<\/span> form.texts.<span class=\"pl-en\">get<\/span>(<span class=\"pl-s\">&quot;fantasy_name&quot;<\/span>) {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L101\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"101\"><\/td>\n          <td id=\"file-heroes-rs-LC101\" class=\"blob-code blob-code-inner js-file-line\">                        <span class=\"pl-c1\">Some<\/span>(value) <span class=\"pl-k\">=&gt;<\/span> <span class=\"pl-k\">&amp;<\/span>value[<span class=\"pl-c1\">0<\/span>].text,<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L102\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"102\"><\/td>\n          <td id=\"file-heroes-rs-LC102\" class=\"blob-code blob-code-inner js-file-line\">                        <span class=\"pl-c1\">None<\/span> <span class=\"pl-k\">=&gt;<\/span> <span class=\"pl-s\">&quot;No Name.&quot;<\/span>,<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L103\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"103\"><\/td>\n          <td id=\"file-heroes-rs-LC103\" class=\"blob-code blob-code-inner js-file-line\">                    },<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L104\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"104\"><\/td>\n          <td id=\"file-heroes-rs-LC104\" class=\"blob-code blob-code-inner js-file-line\">                    real_name: <span class=\"pl-k\">match<\/span> form.texts.<span class=\"pl-en\">get<\/span>(<span class=\"pl-s\">&quot;real_name&quot;<\/span>) {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L105\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"105\"><\/td>\n          <td id=\"file-heroes-rs-LC105\" class=\"blob-code blob-code-inner js-file-line\">                        <span class=\"pl-c1\">Some<\/span>(content) <span class=\"pl-k\">=&gt;<\/span> <span class=\"pl-c1\">Some<\/span>(<span class=\"pl-k\">&amp;<\/span>content[<span class=\"pl-c1\">0<\/span>].text),<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L106\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"106\"><\/td>\n          <td id=\"file-heroes-rs-LC106\" class=\"blob-code blob-code-inner js-file-line\">                        <span class=\"pl-c1\">None<\/span> <span class=\"pl-k\">=&gt;<\/span> <span class=\"pl-c1\">None<\/span>,<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L107\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"107\"><\/td>\n          <td id=\"file-heroes-rs-LC107\" class=\"blob-code blob-code-inner js-file-line\">                    },<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L108\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"108\"><\/td>\n          <td id=\"file-heroes-rs-LC108\" class=\"blob-code blob-code-inner js-file-line\">                    spotted_photo: hero_img.<span class=\"pl-en\">unwrap<\/span>(),<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L109\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"109\"><\/td>\n          <td id=\"file-heroes-rs-LC109\" class=\"blob-code blob-code-inner js-file-line\">                    strength_level: <span class=\"pl-k\">match<\/span> form.texts.<span class=\"pl-en\">get<\/span>(<span class=\"pl-s\">&quot;strength_level&quot;<\/span>) {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L110\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"110\"><\/td>\n          <td id=\"file-heroes-rs-LC110\" class=\"blob-code blob-code-inner js-file-line\">                        <span class=\"pl-c1\">Some<\/span>(level) <span class=\"pl-k\">=&gt;<\/span> level[<span class=\"pl-c1\">0<\/span>].text.<span class=\"pl-en\">parse<\/span><span class=\"pl-k\">::<\/span>&lt;<span class=\"pl-k\">i32<\/span>&gt;().<span class=\"pl-en\">unwrap<\/span>(),<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L111\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"111\"><\/td>\n          <td id=\"file-heroes-rs-LC111\" class=\"blob-code blob-code-inner js-file-line\">                        <span class=\"pl-c1\">None<\/span> <span class=\"pl-k\">=&gt;<\/span> <span class=\"pl-c1\">0<\/span>,<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L112\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"112\"><\/td>\n          <td id=\"file-heroes-rs-LC112\" class=\"blob-code blob-code-inner js-file-line\">                    },<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L113\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"113\"><\/td>\n          <td id=\"file-heroes-rs-LC113\" class=\"blob-code blob-code-inner js-file-line\">                })<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L114\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"114\"><\/td>\n          <td id=\"file-heroes-rs-LC114\" class=\"blob-code blob-code-inner js-file-line\">                .<span class=\"pl-en\">execute<\/span>(<span class=\"pl-k\">&amp;<\/span><span class=\"pl-k\">crate<\/span><span class=\"pl-k\">::<\/span><span class=\"pl-en\">establish_connection<\/span>());<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L115\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"115\"><\/td>\n          <td id=\"file-heroes-rs-LC115\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L116\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"116\"><\/td>\n          <td id=\"file-heroes-rs-LC116\" class=\"blob-code blob-code-inner js-file-line\">            <span class=\"pl-k\">match<\/span> insert {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L117\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"117\"><\/td>\n          <td id=\"file-heroes-rs-LC117\" class=\"blob-code blob-code-inner js-file-line\">                <span class=\"pl-c1\">Ok<\/span>(_) <span class=\"pl-k\">=&gt;<\/span> Flash<span class=\"pl-k\">::<\/span><span class=\"pl-en\">success<\/span>(<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L118\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"118\"><\/td>\n          <td id=\"file-heroes-rs-LC118\" class=\"blob-code blob-code-inner js-file-line\">                    Redirect<span class=\"pl-k\">::<\/span><span class=\"pl-en\">to<\/span>(<span class=\"pl-s\">&quot;/&quot;<\/span>),<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L119\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"119\"><\/td>\n          <td id=\"file-heroes-rs-LC119\" class=\"blob-code blob-code-inner js-file-line\">                    <span class=\"pl-s\">&quot;Success! We got a new Hero on our database!&quot;<\/span>,<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L120\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"120\"><\/td>\n          <td id=\"file-heroes-rs-LC120\" class=\"blob-code blob-code-inner js-file-line\">                ),<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L121\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"121\"><\/td>\n          <td id=\"file-heroes-rs-LC121\" class=\"blob-code blob-code-inner js-file-line\">                <span class=\"pl-c1\">Err<\/span>(err_msg) <span class=\"pl-k\">=&gt;<\/span> Flash<span class=\"pl-k\">::<\/span><span class=\"pl-en\">error<\/span>(<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L122\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"122\"><\/td>\n          <td id=\"file-heroes-rs-LC122\" class=\"blob-code blob-code-inner js-file-line\">                    Redirect<span class=\"pl-k\">::<\/span><span class=\"pl-en\">to<\/span>(<span class=\"pl-s\">&quot;/new&quot;<\/span>),<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L123\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"123\"><\/td>\n          <td id=\"file-heroes-rs-LC123\" class=\"blob-code blob-code-inner js-file-line\">                    <span class=\"pl-c1\">format!<\/span>(<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L124\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"124\"><\/td>\n          <td id=\"file-heroes-rs-LC124\" class=\"blob-code blob-code-inner js-file-line\">                        <span class=\"pl-s\">&quot;Houston, We had problems while inserting things into our database ... {}&quot;<\/span>,<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L125\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"125\"><\/td>\n          <td id=\"file-heroes-rs-LC125\" class=\"blob-code blob-code-inner js-file-line\">                        err_msg<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L126\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"126\"><\/td>\n          <td id=\"file-heroes-rs-LC126\" class=\"blob-code blob-code-inner js-file-line\">                    ),<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L127\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"127\"><\/td>\n          <td id=\"file-heroes-rs-LC127\" class=\"blob-code blob-code-inner js-file-line\">                ),<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L128\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"128\"><\/td>\n          <td id=\"file-heroes-rs-LC128\" class=\"blob-code blob-code-inner js-file-line\">            }<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L129\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"129\"><\/td>\n          <td id=\"file-heroes-rs-LC129\" class=\"blob-code blob-code-inner js-file-line\">        }<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L130\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"130\"><\/td>\n          <td id=\"file-heroes-rs-LC130\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-c1\">Err<\/span>(err_msg) <span class=\"pl-k\">=&gt;<\/span> {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L131\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"131\"><\/td>\n          <td id=\"file-heroes-rs-LC131\" class=\"blob-code blob-code-inner js-file-line\">            <span class=\"pl-c\">/* Falls to this patter if theres some fields that isn&#39;t allowed or bolsonaro rules this code */<\/span><\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L132\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"132\"><\/td>\n          <td id=\"file-heroes-rs-LC132\" class=\"blob-code blob-code-inner js-file-line\">            Flash<span class=\"pl-k\">::<\/span><span class=\"pl-en\">error<\/span>(<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L133\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"133\"><\/td>\n          <td id=\"file-heroes-rs-LC133\" class=\"blob-code blob-code-inner js-file-line\">                Redirect<span class=\"pl-k\">::<\/span><span class=\"pl-en\">to<\/span>(<span class=\"pl-s\">&quot;/new&quot;<\/span>),<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L134\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"134\"><\/td>\n          <td id=\"file-heroes-rs-LC134\" class=\"blob-code blob-code-inner js-file-line\">                <span class=\"pl-c1\">format!<\/span>(<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L135\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"135\"><\/td>\n          <td id=\"file-heroes-rs-LC135\" class=\"blob-code blob-code-inner js-file-line\">                    <span class=\"pl-s\">&quot;Houston, We have problems parsing our form... Debug info: {}&quot;<\/span>,<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L136\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"136\"><\/td>\n          <td id=\"file-heroes-rs-LC136\" class=\"blob-code blob-code-inner js-file-line\">                    err_msg<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L137\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"137\"><\/td>\n          <td id=\"file-heroes-rs-LC137\" class=\"blob-code blob-code-inner js-file-line\">                ),<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L138\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"138\"><\/td>\n          <td id=\"file-heroes-rs-LC138\" class=\"blob-code blob-code-inner js-file-line\">            )<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L139\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"139\"><\/td>\n          <td id=\"file-heroes-rs-LC139\" class=\"blob-code blob-code-inner js-file-line\">        }<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L140\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"140\"><\/td>\n          <td id=\"file-heroes-rs-LC140\" class=\"blob-code blob-code-inner js-file-line\">    }<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L141\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"141\"><\/td>\n          <td id=\"file-heroes-rs-LC141\" class=\"blob-code blob-code-inner js-file-line\">}<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L142\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"142\"><\/td>\n          <td id=\"file-heroes-rs-LC142\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L143\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"143\"><\/td>\n          <td id=\"file-heroes-rs-LC143\" class=\"blob-code blob-code-inner js-file-line\">#[get(<span class=\"pl-s\">&quot;/update/&lt;id&gt;&quot;<\/span>)]<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L144\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"144\"><\/td>\n          <td id=\"file-heroes-rs-LC144\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">pub<\/span> <span class=\"pl-k\">fn<\/span> <span class=\"pl-en\">update<\/span>(id: <span class=\"pl-k\">i32<\/span>) -&gt; Template {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L145\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"145\"><\/td>\n          <td id=\"file-heroes-rs-LC145\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-k\">let<\/span> <span class=\"pl-k\">mut<\/span> context <span class=\"pl-k\">=<\/span> HashMap<span class=\"pl-k\">::<\/span><span class=\"pl-en\">new<\/span>();<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L146\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"146\"><\/td>\n          <td id=\"file-heroes-rs-LC146\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-k\">let<\/span> hero_data <span class=\"pl-k\">=<\/span> heroes<span class=\"pl-k\">::<\/span>table<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L147\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"147\"><\/td>\n          <td id=\"file-heroes-rs-LC147\" class=\"blob-code blob-code-inner js-file-line\">        .<span class=\"pl-en\">select<\/span>(heroes<span class=\"pl-k\">::<\/span>all_columns)<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L148\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"148\"><\/td>\n          <td id=\"file-heroes-rs-LC148\" class=\"blob-code blob-code-inner js-file-line\">        .<span class=\"pl-en\">filter<\/span>(heroes<span class=\"pl-k\">::<\/span>id.<span class=\"pl-en\">eq<\/span>(id))<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L149\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"149\"><\/td>\n          <td id=\"file-heroes-rs-LC149\" class=\"blob-code blob-code-inner js-file-line\">        .<span class=\"pl-en\">load<\/span><span class=\"pl-k\">::<\/span>&lt;Hero&gt;(<span class=\"pl-k\">&amp;<\/span><span class=\"pl-k\">crate<\/span><span class=\"pl-k\">::<\/span><span class=\"pl-en\">establish_connection<\/span>())<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L150\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"150\"><\/td>\n          <td id=\"file-heroes-rs-LC150\" class=\"blob-code blob-code-inner js-file-line\">        .<span class=\"pl-en\">expect<\/span>(<span class=\"pl-s\">&quot;Something happned while retrieving the hero of this id&quot;<\/span>);<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L151\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"151\"><\/td>\n          <td id=\"file-heroes-rs-LC151\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L152\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"152\"><\/td>\n          <td id=\"file-heroes-rs-LC152\" class=\"blob-code blob-code-inner js-file-line\">    context.<span class=\"pl-en\">insert<\/span>(<span class=\"pl-s\">&quot;hero&quot;<\/span>, hero_data);<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L153\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"153\"><\/td>\n          <td id=\"file-heroes-rs-LC153\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L154\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"154\"><\/td>\n          <td id=\"file-heroes-rs-LC154\" class=\"blob-code blob-code-inner js-file-line\">    Template<span class=\"pl-k\">::<\/span><span class=\"pl-en\">render<\/span>(<span class=\"pl-s\">&quot;update&quot;<\/span>, <span class=\"pl-k\">&amp;<\/span>context)<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L155\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"155\"><\/td>\n          <td id=\"file-heroes-rs-LC155\" class=\"blob-code blob-code-inner js-file-line\">}<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L156\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"156\"><\/td>\n          <td id=\"file-heroes-rs-LC156\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L157\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"157\"><\/td>\n          <td id=\"file-heroes-rs-LC157\" class=\"blob-code blob-code-inner js-file-line\">#[post(<span class=\"pl-s\">&quot;/update&quot;<\/span>, data = <span class=\"pl-s\">&quot;&lt;hero_data&gt;&quot;<\/span>)]<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L158\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"158\"><\/td>\n          <td id=\"file-heroes-rs-LC158\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">pub<\/span> <span class=\"pl-k\">fn<\/span> <span class=\"pl-en\">process_update<\/span>(content_type: <span class=\"pl-k\">&amp;<\/span>ContentType, hero_data: Data) -&gt; Flash&lt;Redirect&gt; {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L159\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"159\"><\/td>\n          <td id=\"file-heroes-rs-LC159\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-c\">/* File system */<\/span><\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L160\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"160\"><\/td>\n          <td id=\"file-heroes-rs-LC160\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-k\">use<\/span> std<span class=\"pl-k\">::<\/span>fs;<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L161\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"161\"><\/td>\n          <td id=\"file-heroes-rs-LC161\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L162\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"162\"><\/td>\n          <td id=\"file-heroes-rs-LC162\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-c\">/* First we declare what we will be accepting on this form */<\/span><\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L163\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"163\"><\/td>\n          <td id=\"file-heroes-rs-LC163\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-k\">let<\/span> <span class=\"pl-k\">mut<\/span> options <span class=\"pl-k\">=<\/span> MultipartFormDataOptions<span class=\"pl-k\">::<\/span><span class=\"pl-en\">new<\/span>();<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L164\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"164\"><\/td>\n          <td id=\"file-heroes-rs-LC164\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L165\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"165\"><\/td>\n          <td id=\"file-heroes-rs-LC165\" class=\"blob-code blob-code-inner js-file-line\">    options.allowed_fields <span class=\"pl-k\">=<\/span> <span class=\"pl-c1\">vec!<\/span>[<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L166\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"166\"><\/td>\n          <td id=\"file-heroes-rs-LC166\" class=\"blob-code blob-code-inner js-file-line\">        MultipartFormDataField<span class=\"pl-k\">::<\/span><span class=\"pl-en\">file<\/span>(<span class=\"pl-s\">&quot;spotted_photo&quot;<\/span>),<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L167\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"167\"><\/td>\n          <td id=\"file-heroes-rs-LC167\" class=\"blob-code blob-code-inner js-file-line\">        MultipartFormDataField<span class=\"pl-k\">::<\/span><span class=\"pl-en\">text<\/span>(<span class=\"pl-s\">&quot;id&quot;<\/span>),<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L168\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"168\"><\/td>\n          <td id=\"file-heroes-rs-LC168\" class=\"blob-code blob-code-inner js-file-line\">        MultipartFormDataField<span class=\"pl-k\">::<\/span><span class=\"pl-en\">text<\/span>(<span class=\"pl-s\">&quot;fantasy_name&quot;<\/span>),<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L169\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"169\"><\/td>\n          <td id=\"file-heroes-rs-LC169\" class=\"blob-code blob-code-inner js-file-line\">        MultipartFormDataField<span class=\"pl-k\">::<\/span><span class=\"pl-en\">text<\/span>(<span class=\"pl-s\">&quot;real_name&quot;<\/span>),<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L170\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"170\"><\/td>\n          <td id=\"file-heroes-rs-LC170\" class=\"blob-code blob-code-inner js-file-line\">        MultipartFormDataField<span class=\"pl-k\">::<\/span><span class=\"pl-en\">text<\/span>(<span class=\"pl-s\">&quot;strength_level&quot;<\/span>),<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L171\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"171\"><\/td>\n          <td id=\"file-heroes-rs-LC171\" class=\"blob-code blob-code-inner js-file-line\">    ];<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L172\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"172\"><\/td>\n          <td id=\"file-heroes-rs-LC172\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L173\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"173\"><\/td>\n          <td id=\"file-heroes-rs-LC173\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-c\">/* If stuff matches, do stuff */<\/span><\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L174\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"174\"><\/td>\n          <td id=\"file-heroes-rs-LC174\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-k\">let<\/span> multipart_form_data <span class=\"pl-k\">=<\/span> MultipartFormData<span class=\"pl-k\">::<\/span><span class=\"pl-en\">parse<\/span>(content_type, hero_data, options);<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L175\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"175\"><\/td>\n          <td id=\"file-heroes-rs-LC175\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L176\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"176\"><\/td>\n          <td id=\"file-heroes-rs-LC176\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-k\">match<\/span> multipart_form_data {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L177\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"177\"><\/td>\n          <td id=\"file-heroes-rs-LC177\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-c1\">Ok<\/span>(form) <span class=\"pl-k\">=&gt;<\/span> {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L178\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"178\"><\/td>\n          <td id=\"file-heroes-rs-LC178\" class=\"blob-code blob-code-inner js-file-line\">            <span class=\"pl-c\">/* If everything is ok, we will move the image and the insert into our datatabase */<\/span><\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L179\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"179\"><\/td>\n          <td id=\"file-heroes-rs-LC179\" class=\"blob-code blob-code-inner js-file-line\">            <span class=\"pl-k\">let<\/span> hero_img <span class=\"pl-k\">=<\/span> <span class=\"pl-k\">match<\/span> form.files.<span class=\"pl-en\">get<\/span>(<span class=\"pl-s\">&quot;spotted_photo&quot;<\/span>) {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L180\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"180\"><\/td>\n          <td id=\"file-heroes-rs-LC180\" class=\"blob-code blob-code-inner js-file-line\">                <span class=\"pl-c1\">Some<\/span>(img) <span class=\"pl-k\">=&gt;<\/span> {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L181\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"181\"><\/td>\n          <td id=\"file-heroes-rs-LC181\" class=\"blob-code blob-code-inner js-file-line\">                    <span class=\"pl-k\">let<\/span> file_field <span class=\"pl-k\">=<\/span> <span class=\"pl-k\">&amp;<\/span>img[<span class=\"pl-c1\">0<\/span>];<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L182\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"182\"><\/td>\n          <td id=\"file-heroes-rs-LC182\" class=\"blob-code blob-code-inner js-file-line\">                    <span class=\"pl-k\">let<\/span> _content_type <span class=\"pl-k\">=<\/span> <span class=\"pl-k\">&amp;<\/span>file_field.content_type;<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L183\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"183\"><\/td>\n          <td id=\"file-heroes-rs-LC183\" class=\"blob-code blob-code-inner js-file-line\">                    <span class=\"pl-k\">let<\/span> _file_name <span class=\"pl-k\">=<\/span> <span class=\"pl-k\">&amp;<\/span>file_field.file_name;<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L184\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"184\"><\/td>\n          <td id=\"file-heroes-rs-LC184\" class=\"blob-code blob-code-inner js-file-line\">                    <span class=\"pl-k\">let<\/span> _path <span class=\"pl-k\">=<\/span> <span class=\"pl-k\">&amp;<\/span>file_field.path;<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L185\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"185\"><\/td>\n          <td id=\"file-heroes-rs-LC185\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L186\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"186\"><\/td>\n          <td id=\"file-heroes-rs-LC186\" class=\"blob-code blob-code-inner js-file-line\">                    <span class=\"pl-c\">/* Lets split name to get format */<\/span><\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L187\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"187\"><\/td>\n          <td id=\"file-heroes-rs-LC187\" class=\"blob-code blob-code-inner js-file-line\">                    <span class=\"pl-k\">let<\/span> format: <span class=\"pl-k\">Vec<\/span><span class=\"pl-k\">&lt;<\/span><span class=\"pl-k\">&amp;<\/span><span class=\"pl-k\">str<\/span><span class=\"pl-k\">&gt;<\/span> <span class=\"pl-k\">=<\/span> _file_name.<span class=\"pl-en\">as_ref<\/span>().<span class=\"pl-en\">unwrap<\/span>().<span class=\"pl-en\">split<\/span>(<span class=\"pl-s\">&#39;.&#39;<\/span>).<span class=\"pl-en\">collect<\/span>(); <span class=\"pl-c\">/* Reparsing the fileformat */<\/span><\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L188\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"188\"><\/td>\n          <td id=\"file-heroes-rs-LC188\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L189\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"189\"><\/td>\n          <td id=\"file-heroes-rs-LC189\" class=\"blob-code blob-code-inner js-file-line\">                    <span class=\"pl-c\">/* Path parsing */<\/span><\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L190\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"190\"><\/td>\n          <td id=\"file-heroes-rs-LC190\" class=\"blob-code blob-code-inner js-file-line\">                    <span class=\"pl-k\">let<\/span> absolute_path: <span class=\"pl-k\">String<\/span> <span class=\"pl-k\">=<\/span> <span class=\"pl-c1\">format!<\/span>(<span class=\"pl-s\">&quot;imgs/{}&quot;<\/span>, _file_name.<span class=\"pl-en\">clone<\/span>().<span class=\"pl-en\">unwrap<\/span>());<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L191\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"191\"><\/td>\n          <td id=\"file-heroes-rs-LC191\" class=\"blob-code blob-code-inner js-file-line\">                    fs<span class=\"pl-k\">::<\/span><span class=\"pl-en\">copy<\/span>(_path, <span class=\"pl-k\">&amp;<\/span>absolute_path).<span class=\"pl-en\">unwrap<\/span>();<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L192\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"192\"><\/td>\n          <td id=\"file-heroes-rs-LC192\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L193\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"193\"><\/td>\n          <td id=\"file-heroes-rs-LC193\" class=\"blob-code blob-code-inner js-file-line\">                    <span class=\"pl-c1\">Some<\/span>(<span class=\"pl-c1\">format!<\/span>(<span class=\"pl-s\">&quot;imgs/{}&quot;<\/span>, _file_name.<span class=\"pl-en\">clone<\/span>().<span class=\"pl-en\">unwrap<\/span>()))<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L194\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"194\"><\/td>\n          <td id=\"file-heroes-rs-LC194\" class=\"blob-code blob-code-inner js-file-line\">                }<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L195\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"195\"><\/td>\n          <td id=\"file-heroes-rs-LC195\" class=\"blob-code blob-code-inner js-file-line\">                <span class=\"pl-c1\">None<\/span> <span class=\"pl-k\">=&gt;<\/span> <span class=\"pl-c1\">None<\/span>,<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L196\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"196\"><\/td>\n          <td id=\"file-heroes-rs-LC196\" class=\"blob-code blob-code-inner js-file-line\">            };<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L197\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"197\"><\/td>\n          <td id=\"file-heroes-rs-LC197\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L198\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"198\"><\/td>\n          <td id=\"file-heroes-rs-LC198\" class=\"blob-code blob-code-inner js-file-line\">            <span class=\"pl-c\">/* Insert our form data inside our database */<\/span><\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L199\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"199\"><\/td>\n          <td id=\"file-heroes-rs-LC199\" class=\"blob-code blob-code-inner js-file-line\">            <span class=\"pl-k\">let<\/span> insert <span class=\"pl-k\">=<\/span> diesel<span class=\"pl-k\">::<\/span><span class=\"pl-en\">update<\/span>(<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L200\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"200\"><\/td>\n          <td id=\"file-heroes-rs-LC200\" class=\"blob-code blob-code-inner js-file-line\">                heroes<span class=\"pl-k\">::<\/span>table.<span class=\"pl-en\">filter<\/span>(<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L201\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"201\"><\/td>\n          <td id=\"file-heroes-rs-LC201\" class=\"blob-code blob-code-inner js-file-line\">                    heroes<span class=\"pl-k\">::<\/span>id.<span class=\"pl-en\">eq<\/span>(form.texts.<span class=\"pl-en\">get<\/span>(<span class=\"pl-s\">&quot;id&quot;<\/span>).<span class=\"pl-en\">unwrap<\/span>()[<span class=\"pl-c1\">0<\/span>]<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L202\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"202\"><\/td>\n          <td id=\"file-heroes-rs-LC202\" class=\"blob-code blob-code-inner js-file-line\">                        .text<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L203\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"203\"><\/td>\n          <td id=\"file-heroes-rs-LC203\" class=\"blob-code blob-code-inner js-file-line\">                        .<span class=\"pl-en\">parse<\/span><span class=\"pl-k\">::<\/span>&lt;<span class=\"pl-k\">i32<\/span>&gt;()<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L204\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"204\"><\/td>\n          <td id=\"file-heroes-rs-LC204\" class=\"blob-code blob-code-inner js-file-line\">                        .<span class=\"pl-en\">unwrap<\/span>()),<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L205\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"205\"><\/td>\n          <td id=\"file-heroes-rs-LC205\" class=\"blob-code blob-code-inner js-file-line\">                ),<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L206\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"206\"><\/td>\n          <td id=\"file-heroes-rs-LC206\" class=\"blob-code blob-code-inner js-file-line\">            )<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L207\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"207\"><\/td>\n          <td id=\"file-heroes-rs-LC207\" class=\"blob-code blob-code-inner js-file-line\">            .<span class=\"pl-en\">set<\/span>(NewHero {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L208\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"208\"><\/td>\n          <td id=\"file-heroes-rs-LC208\" class=\"blob-code blob-code-inner js-file-line\">                fantasy_name: <span class=\"pl-k\">match<\/span> form.texts.<span class=\"pl-en\">get<\/span>(<span class=\"pl-s\">&quot;fantasy_name&quot;<\/span>) {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L209\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"209\"><\/td>\n          <td id=\"file-heroes-rs-LC209\" class=\"blob-code blob-code-inner js-file-line\">                    <span class=\"pl-c1\">Some<\/span>(value) <span class=\"pl-k\">=&gt;<\/span> <span class=\"pl-k\">&amp;<\/span>value[<span class=\"pl-c1\">0<\/span>].text,<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L210\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"210\"><\/td>\n          <td id=\"file-heroes-rs-LC210\" class=\"blob-code blob-code-inner js-file-line\">                    <span class=\"pl-c1\">None<\/span> <span class=\"pl-k\">=&gt;<\/span> <span class=\"pl-s\">&quot;No Name.&quot;<\/span>,<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L211\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"211\"><\/td>\n          <td id=\"file-heroes-rs-LC211\" class=\"blob-code blob-code-inner js-file-line\">                },<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L212\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"212\"><\/td>\n          <td id=\"file-heroes-rs-LC212\" class=\"blob-code blob-code-inner js-file-line\">                real_name: <span class=\"pl-k\">match<\/span> form.texts.<span class=\"pl-en\">get<\/span>(<span class=\"pl-s\">&quot;real_name&quot;<\/span>) {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L213\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"213\"><\/td>\n          <td id=\"file-heroes-rs-LC213\" class=\"blob-code blob-code-inner js-file-line\">                    <span class=\"pl-c1\">Some<\/span>(content) <span class=\"pl-k\">=&gt;<\/span> <span class=\"pl-c1\">Some<\/span>(<span class=\"pl-k\">&amp;<\/span>content[<span class=\"pl-c1\">0<\/span>].text),<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L214\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"214\"><\/td>\n          <td id=\"file-heroes-rs-LC214\" class=\"blob-code blob-code-inner js-file-line\">                    <span class=\"pl-c1\">None<\/span> <span class=\"pl-k\">=&gt;<\/span> <span class=\"pl-c1\">None<\/span>,<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L215\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"215\"><\/td>\n          <td id=\"file-heroes-rs-LC215\" class=\"blob-code blob-code-inner js-file-line\">                },<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L216\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"216\"><\/td>\n          <td id=\"file-heroes-rs-LC216\" class=\"blob-code blob-code-inner js-file-line\">                spotted_photo: hero_img.<span class=\"pl-en\">unwrap<\/span>(),<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L217\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"217\"><\/td>\n          <td id=\"file-heroes-rs-LC217\" class=\"blob-code blob-code-inner js-file-line\">                strength_level: <span class=\"pl-k\">match<\/span> form.texts.<span class=\"pl-en\">get<\/span>(<span class=\"pl-s\">&quot;strength_level&quot;<\/span>) {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L218\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"218\"><\/td>\n          <td id=\"file-heroes-rs-LC218\" class=\"blob-code blob-code-inner js-file-line\">                    <span class=\"pl-c1\">Some<\/span>(level) <span class=\"pl-k\">=&gt;<\/span> level[<span class=\"pl-c1\">0<\/span>].text.<span class=\"pl-en\">parse<\/span><span class=\"pl-k\">::<\/span>&lt;<span class=\"pl-k\">i32<\/span>&gt;().<span class=\"pl-en\">unwrap<\/span>(),<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L219\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"219\"><\/td>\n          <td id=\"file-heroes-rs-LC219\" class=\"blob-code blob-code-inner js-file-line\">                    <span class=\"pl-c1\">None<\/span> <span class=\"pl-k\">=&gt;<\/span> <span class=\"pl-c1\">0<\/span>,<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L220\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"220\"><\/td>\n          <td id=\"file-heroes-rs-LC220\" class=\"blob-code blob-code-inner js-file-line\">                },<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L221\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"221\"><\/td>\n          <td id=\"file-heroes-rs-LC221\" class=\"blob-code blob-code-inner js-file-line\">            })<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L222\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"222\"><\/td>\n          <td id=\"file-heroes-rs-LC222\" class=\"blob-code blob-code-inner js-file-line\">            .<span class=\"pl-en\">execute<\/span>(<span class=\"pl-k\">&amp;<\/span><span class=\"pl-k\">crate<\/span><span class=\"pl-k\">::<\/span><span class=\"pl-en\">establish_connection<\/span>());<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L223\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"223\"><\/td>\n          <td id=\"file-heroes-rs-LC223\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L224\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"224\"><\/td>\n          <td id=\"file-heroes-rs-LC224\" class=\"blob-code blob-code-inner js-file-line\">            <span class=\"pl-k\">match<\/span> insert {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L225\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"225\"><\/td>\n          <td id=\"file-heroes-rs-LC225\" class=\"blob-code blob-code-inner js-file-line\">                <span class=\"pl-c1\">Ok<\/span>(_) <span class=\"pl-k\">=&gt;<\/span> Flash<span class=\"pl-k\">::<\/span><span class=\"pl-en\">success<\/span>(<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L226\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"226\"><\/td>\n          <td id=\"file-heroes-rs-LC226\" class=\"blob-code blob-code-inner js-file-line\">                    Redirect<span class=\"pl-k\">::<\/span><span class=\"pl-en\">to<\/span>(<span class=\"pl-s\">&quot;/&quot;<\/span>),<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L227\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"227\"><\/td>\n          <td id=\"file-heroes-rs-LC227\" class=\"blob-code blob-code-inner js-file-line\">                    <span class=\"pl-s\">&quot;Success! We got a new Hero on our database!&quot;<\/span>,<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L228\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"228\"><\/td>\n          <td id=\"file-heroes-rs-LC228\" class=\"blob-code blob-code-inner js-file-line\">                ),<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L229\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"229\"><\/td>\n          <td id=\"file-heroes-rs-LC229\" class=\"blob-code blob-code-inner js-file-line\">                <span class=\"pl-c1\">Err<\/span>(err_msg) <span class=\"pl-k\">=&gt;<\/span> Flash<span class=\"pl-k\">::<\/span><span class=\"pl-en\">error<\/span>(<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L230\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"230\"><\/td>\n          <td id=\"file-heroes-rs-LC230\" class=\"blob-code blob-code-inner js-file-line\">                    Redirect<span class=\"pl-k\">::<\/span><span class=\"pl-en\">to<\/span>(<span class=\"pl-s\">&quot;/new&quot;<\/span>),<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L231\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"231\"><\/td>\n          <td id=\"file-heroes-rs-LC231\" class=\"blob-code blob-code-inner js-file-line\">                    <span class=\"pl-c1\">format!<\/span>(<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L232\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"232\"><\/td>\n          <td id=\"file-heroes-rs-LC232\" class=\"blob-code blob-code-inner js-file-line\">                        <span class=\"pl-s\">&quot;Houston, We had problems while inserting things into our database ... {}&quot;<\/span>,<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L233\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"233\"><\/td>\n          <td id=\"file-heroes-rs-LC233\" class=\"blob-code blob-code-inner js-file-line\">                        err_msg<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L234\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"234\"><\/td>\n          <td id=\"file-heroes-rs-LC234\" class=\"blob-code blob-code-inner js-file-line\">                    ),<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L235\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"235\"><\/td>\n          <td id=\"file-heroes-rs-LC235\" class=\"blob-code blob-code-inner js-file-line\">                ),<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L236\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"236\"><\/td>\n          <td id=\"file-heroes-rs-LC236\" class=\"blob-code blob-code-inner js-file-line\">            }<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L237\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"237\"><\/td>\n          <td id=\"file-heroes-rs-LC237\" class=\"blob-code blob-code-inner js-file-line\">        }<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L238\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"238\"><\/td>\n          <td id=\"file-heroes-rs-LC238\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-c1\">Err<\/span>(err_msg) <span class=\"pl-k\">=&gt;<\/span> {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L239\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"239\"><\/td>\n          <td id=\"file-heroes-rs-LC239\" class=\"blob-code blob-code-inner js-file-line\">            <span class=\"pl-c\">/* Falls to this patter if theres some fields that isn&#39;t allowed or bolsonaro rules this code */<\/span><\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L240\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"240\"><\/td>\n          <td id=\"file-heroes-rs-LC240\" class=\"blob-code blob-code-inner js-file-line\">            Flash<span class=\"pl-k\">::<\/span><span class=\"pl-en\">error<\/span>(<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L241\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"241\"><\/td>\n          <td id=\"file-heroes-rs-LC241\" class=\"blob-code blob-code-inner js-file-line\">                Redirect<span class=\"pl-k\">::<\/span><span class=\"pl-en\">to<\/span>(<span class=\"pl-s\">&quot;/new&quot;<\/span>),<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L242\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"242\"><\/td>\n          <td id=\"file-heroes-rs-LC242\" class=\"blob-code blob-code-inner js-file-line\">                <span class=\"pl-c1\">format!<\/span>(<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L243\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"243\"><\/td>\n          <td id=\"file-heroes-rs-LC243\" class=\"blob-code blob-code-inner js-file-line\">                    <span class=\"pl-s\">&quot;Houston, We have problems parsing our form... Debug info: {}&quot;<\/span>,<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L244\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"244\"><\/td>\n          <td id=\"file-heroes-rs-LC244\" class=\"blob-code blob-code-inner js-file-line\">                    err_msg<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L245\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"245\"><\/td>\n          <td id=\"file-heroes-rs-LC245\" class=\"blob-code blob-code-inner js-file-line\">                ),<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L246\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"246\"><\/td>\n          <td id=\"file-heroes-rs-LC246\" class=\"blob-code blob-code-inner js-file-line\">            )<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L247\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"247\"><\/td>\n          <td id=\"file-heroes-rs-LC247\" class=\"blob-code blob-code-inner js-file-line\">        }<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L248\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"248\"><\/td>\n          <td id=\"file-heroes-rs-LC248\" class=\"blob-code blob-code-inner js-file-line\">    }<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L249\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"249\"><\/td>\n          <td id=\"file-heroes-rs-LC249\" class=\"blob-code blob-code-inner js-file-line\">}<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L250\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"250\"><\/td>\n          <td id=\"file-heroes-rs-LC250\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L251\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"251\"><\/td>\n          <td id=\"file-heroes-rs-LC251\" class=\"blob-code blob-code-inner js-file-line\">#[get(<span class=\"pl-s\">&quot;/delete/&lt;id&gt;&quot;<\/span>)]<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L252\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"252\"><\/td>\n          <td id=\"file-heroes-rs-LC252\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">pub<\/span> <span class=\"pl-k\">fn<\/span> <span class=\"pl-en\">delete<\/span>(id: <span class=\"pl-k\">i32<\/span>) -&gt; Flash&lt;Redirect&gt; {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L253\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"253\"><\/td>\n          <td id=\"file-heroes-rs-LC253\" class=\"blob-code blob-code-inner js-file-line\">    diesel<span class=\"pl-k\">::<\/span><span class=\"pl-en\">delete<\/span>(heroes<span class=\"pl-k\">::<\/span>table.<span class=\"pl-en\">filter<\/span>(heroes<span class=\"pl-k\">::<\/span>id.<span class=\"pl-en\">eq<\/span>(id)))<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L254\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"254\"><\/td>\n          <td id=\"file-heroes-rs-LC254\" class=\"blob-code blob-code-inner js-file-line\">        .<span class=\"pl-en\">execute<\/span>(<span class=\"pl-k\">&amp;<\/span><span class=\"pl-k\">crate<\/span><span class=\"pl-k\">::<\/span><span class=\"pl-en\">establish_connection<\/span>())<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L255\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"255\"><\/td>\n          <td id=\"file-heroes-rs-LC255\" class=\"blob-code blob-code-inner js-file-line\">        .<span class=\"pl-en\">expect<\/span>(<span class=\"pl-s\">&quot;Ops, we can&#39;t delete this.&quot;<\/span>);<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L256\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"256\"><\/td>\n          <td id=\"file-heroes-rs-LC256\" class=\"blob-code blob-code-inner js-file-line\">    Flash<span class=\"pl-k\">::<\/span><span class=\"pl-en\">success<\/span>(Redirect<span class=\"pl-k\">::<\/span><span class=\"pl-en\">to<\/span>(<span class=\"pl-s\">&quot;/&quot;<\/span>), <span class=\"pl-s\">&quot;Yey! The hero was deleted.&quot;<\/span>)<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-heroes-rs-L257\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"257\"><\/td>\n          <td id=\"file-heroes-rs-LC257\" class=\"blob-code blob-code-inner js-file-line\">}<\/td>\n        <\/tr>\n  <\/table>\n<\/div>\n\n\n  <\/div>\n\n  <\/div>\n<\/div>\n\n      <\/div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/luisvonmuller/46bc31b650526a23e8ed0451345722c0/raw/ad77a454b24760fbebc73e01beca30a944100b9f/heroes.rs\" style=\"float:right\">view raw<\/a>\n        <a href=\"https://gist.github.com/luisvonmuller/46bc31b650526a23e8ed0451345722c0#file-heroes-rs\">\n          heroes.rs\n        <\/a>\n        hosted with &#10084; by <a href=\"https://github.com\">GitHub<\/a>\n      <\/div>\n    <\/div>\n<\/div>\n')
